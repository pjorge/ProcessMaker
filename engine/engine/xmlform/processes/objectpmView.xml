<?xml version="1.0" encoding="UTF-8"?>
<dynaForm name="pbjectpmView" width="100%" mode="">
  <thetitle type="title">
    <en>Process Properties</en>
    <pt><![CDATA[Propriedades do processo]]></pt>
  </thetitle>
  <uid type="hidden"/>
  <title type="text" mode="view">
    <en>Title</en>
    <pt><![CDATA[Título]]></pt>
  </title>
  <version type="text" mode="view">
    <en>Version</en>
    <pt><![CDATA[Versão]]></pt>
  </version>
  <pm_version type="text" mode="view">
    <en>P.M. rev. required</en>
    <pt><![CDATA[Versão do P.M. obrigatória]]></pt>
  </pm_version>
  <category type="text" mode="view">
    <en>Category</en>
    <pt><![CDATA[Categoria]]></pt>
  </category>
  <rating type="text" mode="view">
    <en>Rating</en>
    <pt><![CDATA[Classificação]]></pt>
  </rating>
  <downloads type="text" mode="view">
    <en>Downloads</en>
    <pt><![CDATA[Downloads]]></pt>
  </downloads>
  <subscriptions type="text" mode="view">
    <en>Subscriptions</en>
    <pt><![CDATA[Subscrições]]></pt>
  </subscriptions>
  <username type="text" colWidth="60" mode="view">
    <en>Author</en>
    <pt><![CDATA[Autor]]></pt>
  </username>
  <privacy type="dropdown" mode="view">
    <en>Privacy
  <option name="FREE">Free Download</option>
  <option name="PUBLIC">Public</option>
  <option name="PRIVATE">Private</option>
  <option name="COLOSA">Colosa</option>
  </en>
    <pt><![CDATA[Privacidade]]><option name="FREE"><![CDATA[Download livre]]></option><option name="PUBLIC"><![CDATA[Publico]]></option><option name="PRIVATE"><![CDATA[Privado]]></option><option name="COLOSA"><![CDATA[Colosa]]></option></pt>
  </privacy>
  <createDate type="text" mode="view">
    <en>Create Date</en>
    <pt><![CDATA[Data de criação]]></pt>
  </createDate>
  <updateDate type="text" mode="view">
    <en>Update Date</en>
    <pt><![CDATA[Data de atualização]]></pt>
  </updateDate>
  <description type="text" enableHtml="1" mode="view">
    <en>Description</en>
    <pt><![CDATA[Descrição]]></pt>
  </description>
  <subinstallSteps type="subtitle">
    <en>Install Steps</en>
    <pt><![CDATA[Passos de instalação]]></pt>
  </subinstallSteps>
  <installSteps type="text" enableHtml="1" mode="view">
    <en/>
    <pt><![CDATA[]]></pt>
  </installSteps>
  <link_label type="private"/>
  <link_href type="private"/>
  <link type="link" value="@#link_label" link="@#link_href">
    <en/>
    <pt><![CDATA[link]]></pt>
  </link>
  <js type="javascript"><![CDATA[

var registerPML = function(sUID) {
  oPanel2 = new leimnud.module.panel();
  oPanel2.options = {
  	size:{w:450,h:240},
  	position:{x:0,y:0,center:true},
  	title:'',
  	theme:'firefox',
  	statusBar:true,
  	control	:{resize:false,roll:false,drag:true},
  	fx	:{modal:true,opacity:true,blinkToFront:false,fadeIn:false}
  };
  oPanel2.events = {
	  remove: function() { delete(oPanel2); }.extend(this)
  };
  oPanel2.make();
  oPanel2.loader.show();
  var oRPC = new leimnud.module.rpc.xmlhttp({
  	url : 'processes_Ajax',
  	args: 'action=registerPML&data=' + {pro_uid:sUID}.toJSONString()
  });
  oRPC.callback = function(rpc){
  	oPanel2.loader.hide();
  	var scs = rpc.xmlhttp.responseText.extractScript();
  	oPanel2.addContent(rpc.xmlhttp.responseText);
  	scs.evalScript();
  }.extend(this);
  oRPC.make();
};

var loginPML = function(sUID) {
  if (registerPMLForm.onsubmit()) {
    var oRPC = new leimnud.module.rpc.xmlhttp({
      url  : 'processes_Ajax',
      async: false,
      args : 'action=loginPML&data=' + {pro_uid:sUID,u:getField('PML_USER').value,p:getField('PML_PASSWORD').value}.toJSONString()
    });
    oRPC.make();
    var oResponse = oRPC.xmlhttp.responseText.parseJSON();
    if (oResponse.bExists) {
      oPanel2.remove();
      getField('link').href = oResponse.sLink;
      getField('link').innerHTML = oResponse.sLabel;
      window.location = oResponse.sLink;
    }
    else {
      new leimnud.module.app.alert().make({
        label:G_STRINGS.ID_INCORRECT_USER_OR_PASS
			});
    }
  }
};

]]></js>
</dynaForm>
